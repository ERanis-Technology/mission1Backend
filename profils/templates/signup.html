<!DOCTYPE html>
<html>
<head>
    <title>Inscription</title>
</head>
<body>
    <h2>Inscription</h2>
    <form method="get" action="{% url 'signup' %}">
        <label for="user_type">Type d'utilisateur:</label>
        <select name="user_type" onchange="this.form.submit()">
            <option value="prof" {% if user_type == 'prof' %}selected{% endif %}>Professionnel</option>
            <option value="ent" {% if user_type == 'ent' %}selected{% endif %}>Entreprise</option>
            <option value="admin" {% if user_type == 'admin' %}selected{% endif %}>Administrateur</option>
        </select>
    </form>

    {% if form %}
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="hidden" name="user_type" value="{{ user_type }}">
        <button type="submit">S'inscrire</button>
    </form>
    {% endif %}

    {% if error %}
    <p style="color: red;">{{ error }}</p>
    {% endif %}
</body>
</html>